---
title: macOS系统下安装WSJT、JTDX教程
description: 本教程适用于搭载Apple M系列芯片的Mac电脑，修正了ReadMe文件中因系统版本更新导致失效的内容
author: BG2FNV
date: 2025-02-07 12:09:00 +0800
categories: [无线电, 技术]
tags: [无线电]
---

> 若要直接获取解决问题的操作步骤，请跳转到“快速指南”章节。
{: .prompt-tip }

在dmg文件中，作者写了一个ReadMe。然而这个ReadMe中有一部分内容随着系统更新已经不再起作用，按照这个教程，应该可以修复这些问题。

注意，本文的目的是修复ReadMe中的失效内容并帮助您在macOS上运行WSJT或JTDX，并不包括帮助您连接无线电设备的部分。

## 详细教程

### 开始之前

确保进行了以下步骤：

- 更新Mac的操作系统至Mojave或以上
- 于SourceForge下载“wsjtx_版本号-Darwin.dmg”或“jtdx-版本号-32A-Darwin-arm64.dmg”

### 开始安装

> 适用于Mac OS X的JTDX安装指南
> 更新于2018年10月11日
> 
> 若您已经安装了较早版本的JTDX，建议您在进行安装以前将应用文件夹内的JTDX包名改为JTDX_previous。


此步骤的目的意在备份现有文件，也可以将旧版安装包移动到其他文件夹以达到备份的目的。

> 开始：
>
> 必须先处理一些系统问题。前往应用->实用工具打开终端。
>
> 随ReadMe文件附带的文件com.jtdx.sysctl.plist必须被拷贝到一个系统位置，可以将以下代码复制到终端并按回车完成。
>
> ```shell
> sudo  cp  /Volumes/JTDX/com.jtdx.sysctl.plist  /Library/LaunchDaemons
> ```
>
> 您会被要求输入密码，因为复制这个文件需要权限。（您的密码并不会显示在屏幕上，但您只要正常输入之后按下回车。
>
> 现在重启你的电脑。为应用修改，这是必要的步骤。


若调整过终端的位置，可以按下<kbd>command ⌘</kbd>+<kbd>空格</kbd>启动聚焦搜索，输入Terminal来启动终端。执行结束后，不要关闭终端，接下来还需要使用它。

> 重启后为检查修改是否应用成功，您应该重新打开终端并输入以下内容：
>
> ```shell
> sysctl -a | grep sysv.shm
> ```
> 
> 如果显示的shmmax值不是14680064，请联系我，因为JTDX会无法加载并显示错误信息“Unable to create shared memory segment”。

不要执行上述步骤。

正常情况下，如果完全按照教程执行，显示的shmmax不会是14680064。

shmmax是共享内存段的最大值，也没有必要准确设置为14680064。实际上，只要比这个大就可以，但是也不应设置为尽可能大，这个数值不是越大越好。

可以直接在终端中运行这四行代码：

```shell
sudo sysctl -w kern.sysv.shmmax=104857600
sudo sysctl -w kern.sysv.shmmin=1
sudo sysctl -w kern.sysv.shmseg=32
sudo sysctl -w kern.sysv.shmall=25600
```

这样或许可以免去打扰作者以及等待回复之时间。

> 现在您完成了系统调整。您应该确保在执行上述步骤时候没有产生错误信息。您可以关闭终端了，如果您只是更新JTDX的版本，不需要重复这些操作，但是如果您更新了macOS系统，您可能需要再进行一遍。
>
> 下一步：
>
> 将 JTDX 应用程序拖放到你喜欢的位置，比如“应用程序”文件夹。
>
> 你需要配置声卡。打开应用程序>实用工具>音频MIDI设置，选择你的声卡，然后将输入和输出的格式都设置为 “48000Hz 2声道16位浮点”。

如果你和我一样是个老烧，用电脑听歌或者做数字转盘，不愿调整已经设置好的采样率，那这一步其实有其他办法。这个步骤同样也适用于同时开启两个JTDX，在下方作者会提到。

你可以按左下角的加号-创建聚合设备，用这个方法创建两个，一个勾选你要用的输入设备（通常是“外置麦克风”，这一步你需要先把电台的音频线插入Mac的3.5mm音频插口，电脑才会显示这个），另一个勾选你要用的输出设备（通常是“外置耳机”，同理）

后面在软件里面音频面板选择设备的时候，只需要选择你新建的这两个聚合设备就行了，记得命好名以便区分输入和输出。

这里ReadMe文件可能是16位版本程序里粘贴来的，实际上应该是“48000Hz 2声道32位浮点”。

> 现在双击 JTDX 应用程序，会出现两个窗口。
>
> 如果首次启动时提示是否允许 JTDX 进行音频捕获，请务必选择“允许”。

这时候的JTDX应该是英文界面，按顶部菜单的Language（倒数第二个），里面选择简体中文，重启软件就可以了。

接下来的步骤就大概没有什么问题了，所以基本只是翻译了剩下的ReadMe以及校对了里面的按钮对应标准化译文。

> 点击 JTDX 菜单栏中的设置，在常规面板中填写各种电台资料。
>
> 建议勾选显示标题下的4个复选框，以及惯常习惯标题下的前4个复选框。
>
> 接下来，进入音频面板，选择你在 JTDX 和设备之间进行通信时使用的音频编解码器。由于音频接口种类繁多，无法针对具体选择给出详细建议。如果你在选择过程中遇到问题，请与我联系。
>
> 注意声音文件保存目录的位置，解码后的波形文件会存储在此处。
>
> 查看报告面板。如果你勾选“提示我记录通联日志”复选框，在通联结束时会出现一个日志记录面板。在“Library/Application Support/JTDX” 文件夹中提供了两个日志文件，一个是简单的wsjtx.log 文件，另一个是wsjtx_log.adi文件，后者的格式适用于日志数据库。文件菜单栏中包含一个打开日志文件目录按钮，点击它可以在访达中打开日志目录，方便你使用任何日志记录软件进行处理。
>
> 最后，进入电台面板。当JTDX与CAT控制配合使用时，效果最佳。你需要为你的设备安装相关的Mac驱动程序，该驱动程序必须位于设备驱动目录“/dev”中。安装好驱动程序后，重新启动JTDX。

新版本的macOS已经包含了基本的USB转串口驱动（PL2303），所以如果你是通过简单的串口控制电台，理论上你无须进行额外的安装了。然而有一些电台（反正我是没有那么高档的东西）内置了虚拟声卡，如果电脑不识别，你可能需要到电台的官网自己找配套的驱动了。

> 返回设置中的电台面板，在串行端口面板中从列表中选择你的驱动程序。如果由于某种原因你的驱动程序没有显示在列表中，请在 “串口” 面板中输入驱动程序的完整名称，例如：/dev/tty.PL2303-00002226，具体名称根据你的驱动程序而定。“/dev/” 前缀是必需的。根据你的收发器要求设置相关的通信参数，然后点击“测试 CAT”进行检查。
>
> JTDX 需要 Mac 系统时钟准确。打开系统偏好设置>日期与时间，确保日期和时间设置为自动。下拉菜单中通常会提供多个时间服务器供你选择。

新版本macOS的时间调整位置在系统设置-通用-日期与时间。

> 在帮助菜单中，可以查看新的《在线用户指南》，获取操作提示和技巧。
>
> 如果你遇到问题，请给我发送电子邮件。
> ——Arvo ES1JA (es1ja@es1ja@homeunix.com)
>
> 附录：关于com.jtdx.sysctl.plist文件和多个JTDX实例的信息
>
> JTDX使用了一段在代码不同部分共享的内存。Mac系统上共享内存的默认分配量不足，需要增加。com.wsjtx.sysctl.plist文件就是用于此目的。你可以使用 Mac 系统自带的编辑器查看该文件（请勿使用其他编辑器，否则文件可能会损坏）。
>
> 可以同时运行多个WSJT-X实例。如果你希望同时运行更多实例，需要按以下方式修改 com.jtdx.sysctl.plist文件中的shmall参数。
>
> shmall 参数用于确定以4096字节页为单位分配的共享内存数量，每个实例需要14MB（14680064 字节）。shmall参数的计算公式为：(n*14680064)/4096，其中n是希望同时运行的实例数量。
>
> 修改完成后，记得重启你的 Mac 电脑。
>
> 请注意，shmmax参数保持不变。这个参数表示单个实例允许从总共享内存分配中请求的最大共享内存量，不应更改。
>
> 如果同时运行两个WSJT-X实例，可能需要额外的音频设备，比如连接两台设备。你可以打开 “音频 MIDI 设置”，创建一个聚合设备，这样就能指定多个音频接口。建议你参考苹果官方关于组合多个音频接口的指南，链接为：
> https://support.apple.com/en-us/HT202000


上述链接指向英文页面。中文版点此前往：

<a href="https://support.apple.com/zh-cn/102171" target="_blank" style="text-decoration: none; background: transparent; border: 2px solid gray; color: gray; padding: 2px 20px; border-radius: 50px; display: inline-block; text-align: center;">创建聚集设备以便结合使用多个音频设备 </a>

*以上是详细教程。*

## 快速指南

1. 打开“终端”，执行

   ```shell
   sudo  cp  /Volumes/JTDX/com.jtdx.sysctl.plist  /Library/LaunchDaemons
   ```

   随后输入密码。

2. 重启电脑

3. 依次执行

   ```shell
   sudo sysctl -w kern.sysv.shmmax=104857600
   sudo sysctl -w kern.sysv.shmmin=1
   sudo sysctl -w kern.sysv.shmseg=32
   sudo sysctl -w kern.sysv.shmall=25600
   ```

4. 在“音频MIDI设置”中将外置耳机、外置麦克风的采样率都设置为48000Hz 2声道32位浮点

5. 启动程序

*以上是快速指南。*