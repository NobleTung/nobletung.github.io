---
layout: none
permalink: /toefl-writing-emulator/
liquid: false
title: 自用TOEFL写作模拟界面
description: 基本复刻TOEFL机考页面功能和主题，提供额外的计时器功能（正计时、7分钟倒计时、10分钟倒计时）以应对不同练习情况。为增强体验，请确保您的计算机安装了Calibri字体包，建议使用Chromium内核的浏览器。
author: BG2FNV
date: 2025-12-15 23:30:00 +0800
categories: [TOEFL, 模拟器]
tags: [TOEFL, 写作, 模拟器]
---

<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TOFEL Writing Emulator</title>
    <link href="https://fonts.googleapis.com/css2?family=Carlito&display=swap" rel="stylesheet">
    <style>
        /* 颜色变量 */
        :root {
            --accent-color: #2c7e82;
            --toolbar-bg: #f9f9f9;
            --button-bg-default: #d7d7d7;
            --border-color: #e0e0e0;
            --top-bar-height: 80px; /* 顶部栏高度增加 */
        }

        /* 根样式 */
        body {
            font-family: 'Calibri', 'Carlito', Arial, sans-serif;
            margin: 0;
            padding-top: calc(var(--top-bar-height) + 50px); /* 顶部留白增加 */
            background-color: #f4f4f4;
            display: flex;
            flex-direction: column; 
            align-items: center;
        }
    
        /* --- 1. 顶部计时器栏样式 (独立于主容器) --- */
        #timer-bar-wrapper {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
    
            height: var(--top-bar-height); /* 使用新的高度 */
    
            background-color: var(--toolbar-bg);
            padding: 0 30px; /* 左右内边距增加 */
    
            display: flex;
            justify-content: space-between;
            align-items: center;
    
            border-radius: 0;
            border-bottom: 1px solid #000;
    
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1); /* 阴影增强 */
            z-index: 1000;
        }
    
        #timer-bar-left {
            font-size: 1.5em; /* 标题字号增大 */
            font-weight: bold;
            color: #333;
        }
    
        #timer-controls {
            display: flex;
            align-items: center;
        }
        
        #timer-group {
            display: flex;
            align-items: center;
            margin-right: 25px;
        }
    
        #timer-display {
            font-size: 1.6em; /* 计时器数字增大 */
            font-weight: bold;
            color: #000;
            min-width: 80px; /* 最小宽度增加 */
            text-align: right;
            margin-right: 20px; 
        }
        
        /* 切换按钮基础样式 (时间/词数) */
        .toggle-btn {
            display: flex;
            align-items: center;
            cursor: pointer;
            color: var(--accent-color);
            font-weight: bold;
            font-size: 16px; /* 字号增大 */
            padding: 8px 10px; /* 内边距增加 */
            border-radius: 6px;
            transition: background-color 0.2s;
        }
        .toggle-btn:hover {
             background-color: rgba(44, 126, 130, 0.1);
        }
        
        /* 模式切换按钮样式 */
        #mode-toggle-btn {
            background: none;
            border: none;
            cursor: pointer;
            margin-left: 20px; /* 间距增加 */
            padding: 0;
        }
        #mode-toggle-btn svg {
            width: 28px; /* 图标增大 */
            height: 28px;
            fill: var(--accent-color);
            transition: opacity 0.2s;
        }
        #mode-toggle-btn:hover svg {
            opacity: 0.8;
        }
    
        .icon-btn {
            width: 44px; /* 按钮尺寸增大 */
            height: 44px;
    
            display: flex;
            align-items: center;
            justify-content: center;
    
            background-color: var(--button-bg-default);
            border: none;
            border-radius: 8px; /* 圆角增大 */
    
            cursor: pointer;
            transition: background-color 0.2s;
            padding: 0;
        }
    
        .icon-btn svg {
            width: 24px; /* 内部图标增大 */
            height: 24px;
            fill: #333; /* 确保默认颜色可见 */
            transition: fill 0.2s;
        }
    
        .icon-btn:hover {
            background-color: var(--accent-color);
        }
    
        .icon-btn:hover svg {
            fill: #fff;
        }
    
        /* 开始按钮样式 */
        #start-btn {
            background: none; 
            border: none; 
            margin-left: 15px; /* 间距增加 */
            cursor: pointer;
            padding: 0;
        }
        #start-btn svg {
            width: 40px; /* 放大开始按钮 */
            height: 40px;
            fill: #d7d7d7;
            transition: fill 0.2s;
        }
    
        /* --- 2. 整体容器：圆角矩形 --- */
        #editor-container {
            width: 1000px; /* 容器宽度增大 */
            max-width: 90%;
            background-color: #fff;
            border-radius: 20px; /* 圆角增大 */
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15); /* 阴影增强 */
            overflow: hidden; 
        }
    
        /* 工具栏样式 */
        #toolbar-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 30px; /* 内边距增加 */
            background-color: var(--toolbar-bg);
            border-bottom: 1px solid var(--border-color);
        }
    
        /* 动作按钮基础样式 */
        #action-buttons button {
            padding: 10px 20px; /* 按钮内边距增加 */
            margin-right: 12px;
            cursor: pointer;
            border: none;
            background-color: var(--button-bg-default); 
            color: #000;
            border-radius: 8px; /* 圆角增大 */
            transition: background-color 0.2s, color 0.2s;
            font-weight: bold;
            font-size: 16px; /* 按钮字号增大 */
            font-family: 'Calibri Light', 'Calibri', 'Carlito', Arial, sans-serif;
        }
    
        /* 动作按钮悬停样式 */
        #action-buttons button:hover {
            background-color: var(--accent-color); 
            color: #fff;
            font-family: 'Calibri', 'Carlito', Arial, sans-serif;
        }
    
        /* 词数统计区域样式 */
        #word-count-area {
            display: flex;
            align-items: center;
        }
    
        #word-count-display {
            font-weight: bold;
            color: #333; 
            font-size: 18px; /* 词数字号增大 */
            margin-right: 20px; 
        }
        
        /* SVG 图标样式 */
        .icon {
            width: 24px; /* 图标尺寸增大 */
            height: 24px;
            fill: var(--accent-color);
            margin-right: 6px;
            vertical-align: middle;
        }
    
        /* 文本输入框 */
        #essay-input {
            width: 100%;
            height: 600px; /* 文本框高度显著增加 */
            padding: 30px; /* 内边距增加 */
            box-sizing: border-box;
            border: none; 
            background-color: #fff; 
            font-size: 24px; /* 输入框字号增大 */
            line-height: 1.4; /* 行高增加，提高阅读舒适度 */
            resize: none;
    
            font-family: 'Calibri Light', 'Calibri', 'Carlito', Arial, sans-serif;
            //letter-spacing: 0.01em;
            outline: none;
            
            /* 关闭所有拼写和语法检查/标记 */
            spellcheck: false;
            autocorrect: off;
            autocapitalize: off;
            data-gramm_editor: false;
        }
    </style>
</head>
<body>
    
    <div id="timer-bar-wrapper">
        <div id="timer-bar-left">Writing</div>
        <div id="timer-controls">
            
            <div id="timer-group">
                <span id="timer-display">00:00</span>
                
                <div id="timer-toggle" class="toggle-btn">
                    <span id="timer-eye-hidden" style="display: inline;">
                        <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M512 256c-168 0-329.6 106.4-384 256 54.4 149.6 216 256 384 256 167.2 0 330.4-106.4 384.8-256-55.2-149.6-217.6-256-384.8-256z m0 416c-88 0-160-72-160-160s72-160 160-160 160 72 160 160-72 160-160 160z m96-160c0 52.8-43.2 96-96 96s-96-43.2-96-96 43.2-96 96-96 96 43.2 96 96z" /></svg>
                    </span>
                    <span id="timer-eye-visible" style="display: none;">
                        <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M253.6 679.2l109.6-109.6C356 552 352 532.8 352 512c0-88 72-160 160-160 20.8 0 40 4 57.6 11.2l82.4-82.4C607.2 264.8 560 256 512 256c-168 0-329.6 106.4-384 256 24 65.6 68.8 123.2 125.6 167.2z" /><path d="M416 512v4.8L516.8 416H512c-52.8 0-96 43.2-96 96zM770.4 344.8l163.2-163.2L888 136l-753.6 753.6 45.6 45.6 192.8-192.8A390.4 390.4 0 0 0 512 768c167.2 0 330.4-106.4 384.8-256-24-65.6-69.6-123.2-126.4-167.2zM512 672c-20 0-40-4-57.6-11.2l53.6-53.6h4.8c52.8 0 96-43.2 96-96v-4.8l53.6-53.6C668 472 672 492 672 512c0 88-72 160-160 160z" /></svg>
                    </span>
                    <span id="timer-toggle-text">Hide Time</span>
                </div>
            </div>
    
            <button id="mode-toggle-btn" class="icon-btn" title="切换计时模式">
                <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5843"><path d="M218.39878 92.602343c-47.599734 33.299814-88.899503 74.299585-122.799314 121.799319C27.499846 309.70113-6.099966 426.300479 0.999994 542.599829c1.499992 25.09986 23.099871 44.199753 48.199731 42.699762s44.199753-23.099871 42.699762-48.199731C79.799554 338.000972 211.098821 156.401986 404.197742 105.202272c147.999173-39.199781 303.698304 4.899973 408.897716 112.699371l-70.999603 38.199786 220.698767 136.399239 7.899956-259.298552-74.699583 40.199775C837.595321 107.202261 763.195737 57.30254 679.196206 28.102703 582.896744-5.197111 479.79732-8.99709 380.897872 17.202764c-58.599673 15.499913-113.299367 40.899772-162.499092 75.399579zM53.299702 890.797884l74.699583-40.099776c58.399674 66.19963 132.799258 116.099351 216.798789 145.199189 96.299462 33.299814 199.398886 37.099793 298.298334 10.899939 38.499785-10.199943 75.299579-24.599863 109.999385-43.099759 18.099899-9.599946 35.599801-20.399886 52.499707-32.19982 47.599734-33.299814 88.799504-74.199586 122.699315-121.599321 68.09962-95.199468 101.799431-211.698817 94.79947-327.898168-1.499992-25.09986-23.099871-44.199753-48.199731-42.699762s-44.199753 23.099871-42.699761 48.199731C943.994727 686.199027 812.595461 867.598014 619.796538 918.797728c-147.999173 39.199781-303.698304-4.899973-408.897716-112.699371l70.999603-38.199786L61.199658 631.499332l-7.899956 259.298552z" p-id="5844"></path></svg>
            </button>
            
            <button id="start-btn" class="icon-btn">
                <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6861"><path d="M256.079818 160.365384 256.079818 863.633592 808.649815 511.983627Z" p-id="6862"></path></svg>
            </button>
        </div>
    </div>
    
    <div id="editor-container">
        <div id="toolbar-top">
            <div id="action-buttons">
                <button id="cut-btn">Cut</button>
                <button id="paste-btn">Paste</button>
                <button id="undo-btn">Undo</button>
                <button id="redo-btn">Redo</button>
            </div>
    
            <div id="word-count-area">
                <span id="word-count-display">0</span>
                
                <div id="word-count-toggle" class="toggle-btn">
                    <span id="eye-icon-visible" style="display: inline;">
                        <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M253.6 679.2l109.6-109.6C356 552 352 532.8 352 512c0-88 72-160 160-160 20.8 0 40 4 57.6 11.2l82.4-82.4C607.2 264.8 560 256 512 256c-168 0-329.6 106.4-384 256 24 65.6 68.8 123.2 125.6 167.2z" /><path d="M416 512v4.8L516.8 416H512c-52.8 0-96 43.2-96 96zM770.4 344.8l163.2-163.2L888 136l-753.6 753.6 45.6 45.6 192.8-192.8A390.4 390.4 0 0 0 512 768c167.2 0 330.4-106.4 384.8-256-24-65.6-69.6-123.2-126.4-167.2zM512 672c-20 0-40-4-57.6-11.2l53.6-53.6h4.8c52.8 0 96-43.2 96-96v-4.8l53.6-53.6C668 472 672 492 672 512c0 88-72 160-160 160z" /></svg>
                    </span>
                    <span id="eye-icon-hidden" style="display: none;">
                        <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M512 256c-168 0-329.6 106.4-384 256 54.4 149.6 216 256 384 256 167.2 0 330.4-106.4 384.8-256-55.2-149.6-217.6-256-384.8-256z m0 416c-88 0-160-72-160-160s72-160 160-160 160 72 160 160-72 160-160 160z m96-160c0 52.8-43.2 96-96 96s-96-43.2-96-96 43.2-96 96-96 96 43.2 96 96z" /></svg>
                    </span>
                    <span id="word-count-text">Show Word Count</span>
                </div>
            </div>
        </div>
    
        <textarea 
            id="essay-input" 
            placeholder="Enter your text here..."
            spellcheck="false" 
            autocorrect="off" 
            autocapitalize="off"
            data-gramm_editor="false"
        ></textarea>
    </div>
    
    <script>
        // --- DOM 元素引用 ---
        const input = document.getElementById('essay-input');
        
        // 词数统计元素
        const countDisplay = document.getElementById('word-count-display');
        const countToggle = document.getElementById('word-count-toggle');
        const countText = document.getElementById('word-count-text');
        const eyeVisible = document.getElementById('eye-icon-visible');
        const eyeHidden = document.getElementById('eye-icon-hidden');
    
        // 计时器元素
        const timerDisplay = document.getElementById('timer-display');
        const timerToggle = document.getElementById('timer-toggle');
        const timerToggleText = document.getElementById('timer-toggle-text');
        const timerEyeVisible = document.getElementById('timer-eye-visible');
        const timerEyeHidden = document.getElementById('timer-eye-hidden');
        const modeToggleBtn = document.getElementById('mode-toggle-btn');
        const startBtn = document.getElementById('start-btn');
        const startIcon = startBtn.querySelector('svg');
    
        // --- 计时器状态变量 ---
        let timerInterval = null;
        let isRunning = false;
        let secondsElapsed = 0;
        
        // 模式: 0=正计时, 1=10min倒计时, 2=7min倒计时
        let mode = 0; 
        const countdownTargets = [0, 600, 420]; 
        let initialSeconds = countdownTargets[mode];
    
        // --- 格式化时间函数 ---
        function formatTime(totalSeconds) {
            const minutes = Math.floor(Math.abs(totalSeconds) / 60);
            const seconds = Math.abs(totalSeconds) % 60;
            const sign = totalSeconds < 0 ? '-' : '';
            return sign + String(minutes).padStart(2, '0') + ':' + String(seconds).padStart(2, '0');
        }
    
        // --- 计时器核心逻辑 ---
        function updateTimer() {
            if (mode === 0) {
                // 正计时
                secondsElapsed++;
            } else {
                // 倒计时
                secondsElapsed--;
                if (secondsElapsed < 0) {
                    secondsElapsed = 0;
                    stopTimer(); 
                }
            }
            timerDisplay.textContent = formatTime(secondsElapsed);
        }
    
        function startTimer() {
            if (isRunning) return;
            isRunning = true;
            // 运行时颜色改为 #2c7e82
            startIcon.style.fill = '#2c7e82'; 
            timerInterval = setInterval(updateTimer, 1000);
        }
    
        function stopTimer() {
            if (!isRunning) return;
            isRunning = false;
            // 暂停时颜色改回黑色
            startIcon.style.fill = '#d7d7d7'; 
            clearInterval(timerInterval);
        }
        
        // --- 模式切换函数 ---
        function toggleMode() {
            stopTimer(); 
            
            mode = (mode + 1) % 3; 
            
            if (mode === 0) {
                secondsElapsed = 0;
                initialSeconds = 0;
                modeToggleBtn.title = "当前模式: 正计时 (Count Up)";
            } else {
                initialSeconds = countdownTargets[mode];
                secondsElapsed = initialSeconds;
                modeToggleBtn.title = `当前模式: 倒计时 (${initialSeconds / 60}分钟)`;
            }
    
            timerDisplay.textContent = formatTime(secondsElapsed);
        }
    
        // --- 计时器/开始按钮事件绑定 ---
        startBtn.addEventListener('click', () => {
            if (isRunning) {
                stopTimer();
            } else {
                startTimer();
            }
        });
        
        modeToggleBtn.addEventListener('click', toggleMode);
        
        // 计时器显示/隐藏切换
        timerToggle.addEventListener('click', () => {
            const isVisible = timerDisplay.style.display !== 'none';
            if (isVisible) {
                timerDisplay.style.display = 'none';
                timerToggleText.textContent = 'Show Time';
                timerEyeVisible.style.display = 'none';
                timerEyeHidden.style.display = 'inline';
            } else {
                timerDisplay.style.display = 'inline';
                timerToggleText.textContent = 'Hide Time';
                timerEyeVisible.style.display = 'inline';
                timerEyeHidden.style.display = 'none';
            }
        });
    
        // --- 词数统计功能 ---
        function updateWordCount() {
            const text = input.value.trim();
            const words = text.match(/\b\w+\b/g);
            const count = words ? words.length : 0;
            
            // 仅显示数字
            countDisplay.textContent = count; 
        }
        input.addEventListener('input', updateWordCount);
    
        // 词数显示/隐藏切换
        countToggle.addEventListener('click', () => {
            const isVisible = countDisplay.style.display !== 'none';
            if (isVisible) {
                // 隐藏状态
                countDisplay.style.display = 'none';
                countText.textContent = 'Show Word Count';
                eyeHidden.style.display = 'inline'; 
                eyeVisible.style.display = 'none';
            } else {
                // 显示状态
                updateWordCount();
                countDisplay.style.display = 'inline';
                countText.textContent = 'Hide Word Count';
                eyeHidden.style.display = 'none';
                eyeVisible.style.display = 'inline'; 
            }
        });
    
        // --- 剪切、粘贴、撤销、重做功能 ---
        // 获取按钮
        const pasteBtn = document.getElementById('paste-btn');
        const cutBtn = document.getElementById('cut-btn');
        const undoBtn = document.getElementById('undo-btn');
        const redoBtn = document.getElementById('redo-btn');
    
        // 【新的粘贴功能】
        pasteBtn.addEventListener('click', async () => {
            input.focus();
            
            // 检查浏览器是否支持 Clipboard API
            if (navigator.clipboard && navigator.clipboard.readText) {
                try {
                    // 异步读取剪贴板内容
                    const text = await navigator.clipboard.readText();
                    
                    // 将内容插入到当前光标位置
                    // **注意:** textarea/input 元素的粘贴逻辑需要手动实现
                    const start = input.selectionStart;
                    const end = input.selectionEnd;
                    const value = input.value;
    
                    // 插入新文本
                    input.value = value.substring(0, start) + text + value.substring(end);
    
                    // 更新光标位置
                    input.selectionStart = input.selectionEnd = start + text.length;
    
                    // 触发 input 事件，以便更新词数统计
                    input.dispatchEvent(new Event('input'));
                    
                } catch (err) {
                    // 如果用户拒绝或权限不足，会捕获错误
                    console.error('无法读取剪贴板内容:', err);
                    alert('粘贴失败，请使用键盘快捷键 (Ctrl+V 或 Command+V) 进行粘贴。');
                }
            } else {
                // 兼容旧浏览器或无法使用 Clipboard API 的环境
                // 尝试 fallback 到 execCommand，但请注意其局限性
                try {
                    document.execCommand('paste');
                } catch (e) {
                    alert('浏览器安全策略限制，请使用键盘快捷键 (Ctrl+V 或 Command+V) 进行粘贴。');
                }
            }
        });


        // 【修改 Cut, Undo, Redo 为直接执行，并使用 focus()】
        cutBtn.addEventListener('click', () => {
            input.focus();
            document.execCommand('cut');
            setTimeout(updateWordCount, 10);
        });
    
        undoBtn.addEventListener('click', () => {
            input.focus();
            document.execCommand('undo');
            setTimeout(updateWordCount, 10);
        });
    
        redoBtn.addEventListener('click', () => {
            input.focus();
            document.execCommand('redo');
            setTimeout(updateWordCount, 10);
        });
    
        // --- 初始化 ---
        updateWordCount();
        
        // 初始化计时器为 Visible（默认显示）
        timerDisplay.style.display = 'inline';
        timerToggleText.textContent = 'Hide Time';
        timerEyeVisible.style.display = 'inline';
        timerEyeHidden.style.display = 'none';
    
        // 初始化词数显示为 Visible（默认显示）
        countDisplay.style.display = 'inline';
        countText.textContent = 'Hide Word Count';
        eyeVisible.style.display = 'inline';
        eyeHidden.style.display = 'none';
    
        toggleMode(); // 初始为正计时模式 (00:00)
        stopTimer();
    </script>

</body>
</html>